<?xml version="1.0"?>
<d2r:Map xmlns:d2r="http://www.wiwiss.fu-berlin.de/suhl/bizer/D2RMap/0.1#" d2r:versionInfo="$Id: iswcMap.d2r,xml, v 0.1 2003/01/15 19:44:09 Chris Exp $">
	<d2r:Prepend><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>]]></d2r:Prepend>
	<d2r:ProcessorMessage d2r:outputFormat="RDF/XML"/>
	<d2r:DBConnection d2r:jdbcDriver="" d2r:jdbcDSN="" d2r:username="" d2r:password=""/>
	<d2r:Namespace d2r:prefix="owl" d2r:namespace="http://www.w3.org/2002/07/owl#"/>
	<d2r:Namespace d2r:prefix="rdf" d2r:namespace="http://www.w3.org/1999/02/22-rdf-syntax-ns#"/>
	<d2r:Namespace d2r:prefix="xsd" d2r:namespace="http://www.w3.org/2001/XMLSchema#"/>
	<d2r:Namespace d2r:prefix="rdfs" d2r:namespace="http://www.w3.org/2000/01/rdf-schema#"/>
	<d2r:Namespace d2r:prefix="core" d2r:namespace="http://vivoweb.org/ontology/core#"/>
	<d2r:Namespace d2r:prefix="foaf" d2r:namespace="http://xmlns.com/foaf/0.1/"/>
	
	<!-- Person -->
	<!-- Note: d2r:groupBy and d2r:column Strings needs to be ALL CAPITALS -->
	<d2r:ClassMap d2r:type="foaf:Person" d2r:sql="SELECT 
	emp.person_id AS UID, 
	emp.first_name AS FNAME, 
	emp.last_name AS LNAME, 
	emp.middle_name AS MNAME, 
	emp.prefix_name AS PRENAME, 
	emp.suffix_name AS SUFNAME, 
	emp.full_name AS FULLNAME, 
	emp.official_name AS BUSNAME, 
	emp.pref_title AS TITLE, 
	emp.email_address AS EMAIL, 
	emp.work_phone AS PHONE, 
	emp.work_fax AS FAX, 
	login.login_name AS NETID 
FROM person AS emp 
LEFT JOIN user AS login ON 
	emp.person_id = login.person_id AND login.expired = 0 
WHERE 
	emp.publish_ok = 1" d2r:groupBy="ID"  d2r:uriPattern="http://some.org/vivo/individual/@@ID@@">
		<d2r:DatatypePropertyBridge d2r:property="rdfs:label" d2r:column="FULLNAME"/>
		<d2r:DatatypePropertyBridge d2r:property="foaf:firstName" d2r:column="FNAME"/>
		<d2r:DatatypePropertyBridge d2r:property="core:middleName" d2r:column="MNAME"/>
		<d2r:DatatypePropertyBridge d2r:property="foaf:lastName" d2r:column="LNAME"/>
		<d2r:DatatypePropertyBridge d2r:property="core:email" d2r:column="EMAIL"/>
	</d2r:ClassMap>
</d2r:Map>